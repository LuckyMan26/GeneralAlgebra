#include "doctest.h"


#include "PolynomialElement.h"
#include "SignedNumber.h"
#include "FiniteNumber.h"


TEST_SUITE("PolynomialElement")
{
	TEST_CASE("Addition")
	{
		SUBCASE("SignedNumber")
		{
			PolynomialElement<SignedNumber> elem1(SignedNumber("-932673823862586258652685286358237253276358238625856382"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242")),
				elem2(SignedNumber("7326738238625862586038757037503857353350098852685286358237253276358238625856382"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242"));

			PolynomialElement<SignedNumber> res = elem1 + elem2;
			auto coef = res.getCoefficient();
			CHECK(SignedNumber("7326738238625862586038756104830033490763840200000000000000000000000000000000000") == coef);
			auto deg = res.getDegree();
			CHECK(PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242") == deg);
		}
		SUBCASE("FiniteNumbed")
		{
			PolynomialElement<FiniteNumber> elem1(FiniteNumber("932673823862586258652685286358237253276358238625856382 x73823283885698698365963956938264826426472"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242")),
				elem2(FiniteNumber("7326738238625862586038757037503857353350098852685286358237253276358238625856382 x73823283885698698365963956938264826426472"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242"));

			PolynomialElement<FiniteNumber> res = elem1 + elem2;
			auto coef = res.getCoefficient();
			CHECK("15115042928469151401199775346988024428292" == coef.toString());
			auto deg = res.getDegree();
			CHECK("8545475848486794864479494204829847289469726479267526546254625462424242" == deg.toString());
		}
	}

	TEST_CASE("Substraction")
	{
		SUBCASE("SignedNumber")
		{
			PolynomialElement<SignedNumber> elem1(SignedNumber("-932673823862586258652685286358237253276358238625856382"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242")),
				elem2(SignedNumber("7326738238625862586038757037503857353350098852685286358237253276358238625856382"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242"));

			PolynomialElement<SignedNumber> res = elem1 - elem2;
			auto coef = res.getCoefficient();
			CHECK(SignedNumber("-7326738238625862586038757970177681215936357505370572716474506552716477251712764") == coef);
			auto deg = res.getDegree();
			CHECK(PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242") == deg);
		}
		SUBCASE("FiniteNumbed")
		{
			PolynomialElement<FiniteNumber> elem1(FiniteNumber("932673823862586258652685286358237253276358238625856382 x73823283885698698365963956938264826426472"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242")),
				elem2(FiniteNumber("7326738238625862586038757037503857353350098852685286358237253276358238625856382 x73823283885698698365963956938264826426472"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242"));

			PolynomialElement<FiniteNumber> res = elem1 - elem2;
			auto coef = res.getCoefficient();
			CHECK("28062420516180245075013349993121225682064" == coef.toString());
			auto deg = res.getDegree();
			CHECK(PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242") == deg);
		}
	}

	TEST_CASE("Product")
	{
		SUBCASE("SignedNumber")
		{
			PolynomialElement<SignedNumber> elem1(SignedNumber("-932673823862586258652685286358237253276358238625856382"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242")),
				elem2(SignedNumber("7326738238625862586038757037503857353350098852685286358237253276358238625856382"), PositiveNumber("637659365936596395697639569"));

			PolynomialElement<SignedNumber> res = elem1 * elem2;
			auto coef = res.getCoefficient();
			CHECK("-6833456969459413250177282067799619441992914255539016523674322432973837599202619331930221900531549336054950176783070332846042890129924" == coef.toString());
			auto deg = res.getDegree();
			CHECK(PositiveNumber("8545475848486794864479494204829847289469727116926892482851021160063811") == deg);
		}
		SUBCASE("FiniteNumbed")
		{
			PolynomialElement<FiniteNumber> elem1(FiniteNumber("932673823862586258652685286358237253276358238625856382 x73823283885698698365963956938264826426472"), PositiveNumber("8545475848486794864479494204829847289469726479267526546254625462424242")),
				elem2(FiniteNumber("7326738238625862586038757037503857353350098852685286358237253276358238625856382 x73823283885698698365963956938264826426472"), PositiveNumber("637659365936596395697639569"));

			PolynomialElement<FiniteNumber> res = elem1 * elem2;
			auto coef = res.getCoefficient();
			CHECK("13324760039211868344887847235231864308540" == coef.toString());
			auto deg = res.getDegree();
			CHECK(PositiveNumber("8545475848486794864479494204829847289469727116926892482851021160063811") == deg);
		}
	}
}